{"version":3,"file":"app.js","sourceRoot":"","sources":["../src/app/app.ts","../src/app/prefabs/Mouse.ts","../src/app/prefabs/NumberBox.ts","../src/app/prefabs/Player.ts","../src/app/states/base/Level.ts","../src/app/states/Boot.ts","../src/app/states/Game.ts","../src/app/states/GameOver.ts","../src/app/states/interfaces/LevelConfig.ts","../src/app/states/Level1.ts","../src/app/states/Level2.ts","../src/app/states/Preload.ts","../src/main.ts"],"names":[],"mappings":"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","sourcesContent":["namespace app{\r\n\texport class App{\r\n\t\tpublic game:Phaser.Game;\r\n\r\n\t\tconstructor() {\r\n\t\t\tthis.game = new Phaser.Game(1024, 768, Phaser.AUTO, 'game');\r\n\r\n\t\t\tthis.game.state.add('boot', new states.Boot());\r\n\t\t\tthis.game.state.add('preload', new states.Preload());\r\n\t\t\tthis.game.state.add('game', new states.Game());\r\n\t\t\tthis.game.state.add('Level1', new states.Level1);\r\n\t\t\tthis.game.state.add('Level2', new states.Level2);\r\n\t\t\tthis.game.state.add('GameOver', new states.GameOver());\r\n\r\n\t\t\tthis.game.state.start('boot');\r\n\t\t}\r\n\t}\r\n\r\n}","namespace app.prefabs{\r\n\texport class Mouse extends Phaser.Sprite {\r\n\t\t// speedToUse:number;\r\n\t\tspeed:number = 200;\r\n\t\t// airSpeed:number = 300;\r\n\t\tjumpPower:number = 600;\r\n\t\tstepLimit:number = 90;\r\n\t\tfacing:number;\r\n\t\tcurrentStep:number;\r\n\t\tplayer:Player;\r\n\r\n\t\tswingAnimation:Phaser.Animation;\r\n\r\n\t\t// //stateData\r\n\t\t// inAir:boolean;\r\n\t\t// doubleJump:boolean;\r\n\t\t// hitGround:boolean;\r\n\r\n\t\tconstructor(game:Phaser.Game, x:number, y:number, player:Player) {\r\n\t\t\tsuper(game, x, y, 'mouse', 0);\r\n\r\n\t\t\t//game object level variables\r\n\t\t\tthis.facing = 0;\r\n\t\t\tthis.currentStep = Math.floor(Math.random() * this.stepLimit);\r\n\t\t\tthis.player = player;\r\n\r\n\t\t\t//animations\r\n\t\t\tthis.animations.add(\"stand\", [0]);\r\n\t\t\tthis.swingAnimation = this.animations.add(\"swing\", [0,1,2,3,4,5,6,7]);\r\n\t\t\tthis.animations.add(\"run\", [8,9,10,11,12,13,14]);\r\n\r\n\t\t\tthis.game.physics.enable(this, Phaser.Physics.ARCADE);\r\n\t\t\tthis.body.collideWorldBounds = true;\r\n\t\t\tthis.body.drag = { x: 600, y: 0 };\r\n\t\t\tthis.body.setSize(60, 80);\r\n\t\t\tthis.anchor.setTo(.5, 1);\r\n\r\n\t\t\tthis.animations.play(\"run\", 9, true);\r\n\t\t}\r\n\r\n\t\tupdate() {\r\n\r\n\t\t\tvar dist = Phaser.Math.distance(this.x, this.y, this.player.x, this.player.y);\r\n\r\n\t\t\tif( Math.round(dist) < 210 ) {\r\n\t\t\t\tthis.animations.play(\"swing\", 9);\r\n\r\n\t\t\t\tif(this.x < this.player.x) {\r\n\t\t\t\t\tthis.scale.x = 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.scale.x = -1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(!this.swingAnimation.isPlaying) {\r\n\r\n\t\t\t\tthis.currentStep++;\r\n\t\t\t\tthis.body.velocity.x = this.speed;\r\n\r\n\t\t\t\tthis.animations.play(\"run\", 9, true);\r\n\r\n\t\t\t\tthis.scale.x = (this.speed > 0) ? 1 : -1;\r\n\r\n\t\t\t\tif(this.currentStep >= this.stepLimit) {\r\n\t\t\t\t\tthis.speed *= -1;\r\n\t\t\t\t\tthis.currentStep = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n}","namespace app.prefabs{\r\n\r\n\texport class NumberBox extends Phaser.Group {\r\n\t\tprotected txtValue:Phaser.Text;\r\n\t\tconstructor(game:Phaser.Game, bgasset:string, val:number, parent?:Phaser.Group) {\r\n\t\t\tsuper(game, parent);\r\n\r\n\t\t\t// initialize your prefab here\r\n\t\t\tthis.create(0,0, bgasset);\r\n\r\n\t\t\tvar style = { font: \"30px Arial\", align: \"center\", fill: \"#fff\" };\r\n\t\t\tthis.txtValue = new Phaser.Text(this.game, 55, 55, val.toString(), style);\r\n\t\t\tthis.txtValue.anchor.setTo(.5, .5);\r\n\t\t\tthis.add(this.txtValue);\r\n\r\n\t\t}\r\n\r\n\t\tsetValue(val:number) {\r\n\t\t\tthis.txtValue.text = val.toString();\r\n\t\t}\r\n\t}\r\n}","namespace app.prefabs{\r\n\texport class Player extends Phaser.Sprite {\r\n\t\tspeedToUse:number;\r\n\t\tspeed:number = 400;\r\n\t\tairSpeed:number = 300;\r\n\t\tjumpPower:number = 600;\r\n\r\n\t\t//stateData\r\n\t\tinAir:boolean;\r\n\t\tdoubleJump:boolean;\r\n\t\thitGround:boolean;\r\n\r\n\t\tlandAnimation:Phaser.Animation;\r\n\t\tcursors:Phaser.CursorKeys;\r\n\t\tjumpButton:Phaser.Key;\r\n\t\tflashEffect:Phaser.Tween;\r\n\r\n\t\tconstructor(game:Phaser.Game, x:number, y:number) {\r\n\t\t\tsuper(game, x, y, 'player', 0);\r\n\r\n\t\t\t//game object level variables\r\n\t\t\tthis.inAir = true;\r\n\t\t\tthis.hitGround = false;\r\n\r\n\t\t\t//animations\r\n\t\t\tthis.animations.add(\"idle\", [0,1,2,3,4,3,2,1]);\r\n\t\t\tthis.animations.add(\"jump\", [0,5,6,7,8,9]);\r\n\t\t\tthis.landAnimation = this.animations.add(\"land\", [7,6,5]);\r\n\t\t\tthis.animations.add(\"run\", [11,12,13,14,15,16,17]);\r\n\r\n\t\t\tthis.game.physics.enable(this, Phaser.Physics.ARCADE);\r\n\t\t\tthis.game.physics.arcade.skipQuadTree = false\r\n\r\n\t\t\tthis.body.collideWorldBounds = true;\r\n\t\t\tthis.anchor.setTo(0.6, this.anchor.y);\r\n\t\t\tthis.body.setSize(77, 195);\r\n\t\t\tthis.body.offset.setTo(89,15);\r\n\r\n\t\t\tthis.cursors = this.game.input.keyboard.createCursorKeys();\r\n\t\t\tthis.jumpButton = this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR);\r\n\t\t\tthis.jumpButton.onDown.add(this.jump, this);\r\n\r\n\t\t\tthis.animations.play(\"idle\", 9, true);\r\n\r\n\t\t\tthis.flashEffect = this.game.add.tween(this)\r\n\t\t\t\t\t\t\t\t\t\t.to( { alpha: 0 }, 50, Phaser.Easing.Bounce.Out)\r\n\t\t\t\t\t\t\t\t\t\t.to( { alpha: .8 }, 50, Phaser.Easing.Bounce.Out)\r\n\t\t\t\t\t\t\t\t\t\t.to( { alpha: 1 }, 150, Phaser.Easing.Circular.Out);\r\n\t\t}\r\n\r\n\t\tprotected animationState() {\r\n\r\n\t\t\tif(this.hitGround) {\r\n\t\t\t\tthis.animations.play(\"land\", 15);\r\n\t\t\t} else if(!this.inAir && !this.landAnimation.isPlaying) {\r\n\t\t\t\tif(Math.abs(this.body.velocity.x) > 4) {\r\n\t\t\t\t\tthis.animations.play(\"run\", 9, true);\r\n\t\t\t\t} else if( this.body.onFloor() ) {\r\n\t\t\t\t\tthis.animations.play(\"idle\", 9, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tpublic update() {\r\n\t\t\t// console.log(\"position:(%1,%2)\".replace(\"%1\",this.x).replace(\"%2\",this.y));\r\n\t\t\tthis.hitGround = false;\r\n\t\t\tvar wasAir = this.inAir;\r\n\t\t\tthis.inAir = !this.body.onFloor();\r\n\r\n\t\t\tif(this.inAir != wasAir && this.body.velocity > 0) {\r\n\t\t\t\tthis.hitGround = true;\r\n\t\t\t}\r\n\r\n\t\t\tthis.animationState();\r\n\r\n\t\t\tthis.speedToUse = this.inAir ? this.airSpeed : this.speed;\r\n\t\t\tthis.speedToUse *= Math.abs(this.scale.x);\r\n\r\n\t\t\tif(!this.cursors.left.isUp && this.cursors.left.isDown && !this.cursors.right.isDown) {\r\n\t\t\t\tthis.scale.x = -1;\r\n\t\t\t\tthis.body.velocity.x = -this.speedToUse;\r\n\t\t\t}\r\n\t\t\telse if(this.cursors.right.isDown) {\r\n\t\t\t\tthis.scale.x = 1;\r\n\t\t\t\tthis.body.velocity.x = this.speedToUse;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprotected jump() {\r\n\t\t\tif(this.body.onFloor() == true) {\r\n\t\t\t\tthis.body.velocity.y = -this.jumpPower;\r\n\t\t\t\tthis.animations.play(\"jump\", 30);\r\n\t\t\t\tthis.doubleJump = true;\r\n\t\t\t} else if(this.doubleJump == true) {\r\n\t\t\t\tconsole.log(this.doubleJump);\r\n\t\t\t\tthis.doubleJump = false;\r\n\t\t\t\tthis.body.velocity.y = -this.jumpPower;\r\n\t\t\t\tthis.animations.play(\"jump\", 30);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic flash() {\r\n\t\t\tif(!this.flashEffect.isRunning) {\r\n\t\t\t\tthis.flashEffect.start();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n}","namespace app.states.base{\r\n\texport class Level extends Phaser.State{\r\n        map:Phaser.Tilemap;\r\n        bg:Phaser.TilemapLayer;\r\n        layer: Phaser.TilemapLayer;\r\n\t\tcoins: Phaser.Group;\r\n\t\tdoors: Phaser.Group;\r\n\r\n\t\tplayer:app.prefabs.Player;\r\n\t\tenemies: Phaser.Group;\r\n\r\n\t\tUIGroup: Phaser.Group;\r\n\t\tscoreField: prefabs.NumberBox;\r\n\r\n\t\tsfx:Phaser.AudioSprite;\r\n\r\n        config: interfaces.LevelConfig;\r\n\t\tconstructor() {\r\n\t\t\t//object level properties\r\n\t\t\tsuper();\r\n\t\t}\r\n\r\n\t\tpublic create() {\r\n\r\n\t\t\t//physics\r\n\t\t\tthis.physics.startSystem(Phaser.Physics.ARCADE);\r\n\t\t\tthis.physics.arcade.gravity.y = 800;\r\n\r\n\t\t\t//map start\r\n\t\t\tthis.map = this.add.tilemap(this.config.mapNameTileMap);\r\n\r\n\t\t\t//parallax background\r\n\t\t\tthis.map.addTilesetImage('gamebg');\r\n\t\t\tthis.bg = this.map.createLayer('bg');\r\n\t\t\tthis.bg.scrollFactorX = .6;\r\n\t\t\tthis.bg.scrollFactorY = .6;\r\n\r\n\t\t\t//walkable tiles\r\n\t\t\tthis.map.addTilesetImage('Tiles');\r\n\t\t\tthis.layer = this.map.createLayer('Level');\r\n\r\n\t\t\t//collision\r\n\t\t\tthis.layer.resizeWorld();\r\n\t\t\tthis.map.setCollisionBetween(6,20,true,this.layer);\r\n\r\n\t\t\t//coin layer\r\n\t\t\tthis.coins = this.add.group();\r\n\t\t\tthis.coins.physicsBodyType = Phaser.Physics.ARCADE;\r\n\t\t\tthis.coins.enableBody = true;\r\n\t\t\tthis.map.createFromObjects(\"Collectables\", this.config.numberOfCollectables, 'coin', null, true, false, this.coins);\r\n\t\t\tthis.coins.setAll(\"body.gravity\", 0);\r\n\r\n\t\t\t//place doors\r\n\t\t\tthis.doors = this.add.group();\r\n\t\t\tthis.doors.physicsBodyType = Phaser.Physics.ARCADE;\r\n\t\t\tthis.doors.enableBody = true;\r\n\t\t\tthis.map.createFromObjects(\"Doors\", 242, 'sign', null, true, false, this.doors);\r\n\t\t\tthis.doors.setAll(\"body.gravity\", 0);\r\n\r\n\t\t\t//player\r\n\t\t\tthis.map.createFromObjects(\"Player\", 243, null, null, true, false, this.world, prefabs.Player);\r\n\t\t\tthis.player = this.world.getTop();\r\n\r\n\t\t\t//place enemies\r\n\t\t\tthis.enemies = this.add.group();\r\n\t\t\tthis.map.createFromObjects(\"Enemies\", this.config.numberOfEnemies, null, null, true, false, this.enemies, prefabs.Mouse);\r\n\t\t\tthis.enemies.setAll(\"player\", this.player);\r\n\r\n\t\t\t//UI\r\n\t\t\tthis.UIGroup = this.add.group();\r\n\t\t\tthis.scoreField = new prefabs.NumberBox(this.game, \"scoreholder\", this.game.score, this.UIGroup);\r\n\t\t\tthis.scoreField.fixedToCamera = true;\r\n\r\n\t\t\t//sound\r\n\t\t\tthis.sfx = this.add.audioSprite('sfx');\r\n\r\n\t\t\tthis.camera.follow(this.player);\r\n\t\t}\r\n\r\n\t\tpublic update() {\r\n\t\t\tthis.physics.arcade.collide(this.player, this.layer);\r\n\t\t\tthis.physics.arcade.collide(this.enemies, this.layer);\r\n\t\t\tthis.physics.arcade.overlap(this.player, this.doors, this.hitDoor, null, this);\r\n\t\t\tthis.physics.arcade.overlap(this.player, this.coins, this.collectCoin, null, this);\r\n\t\t\tthis.physics.arcade.collide(this.player, this.enemies, this.hitEnemy, null, this);\r\n\t\t\t// this.game.debug.bodyInfo(this.player, this.x, this.y);\r\n\t\t\t// this.game.debug.bodyInfo(this.enemies, this.x, this.y);\r\n\t\t\t// this.game.debug.bodyInfo(this.layer, this.x, this.y);\r\n\t\t\tthis.game.debug.body(this.player, \"rgba(0,0,255,0.4)\",);\r\n    \t\t// this.game.debug.body(this.enemies, \"red\");\r\n    \t\tthis.game.debug.body(this.layer, \"green\");\r\n\r\n\t\t}\r\n\r\n\t\tprotected collectCoin(playerRef:prefabs.Player, coinRef:Phaser.Sprite) {\r\n\t\t\tcoinRef.kill();\r\n\t\t\tthis.game.score ++;\r\n\t\t\tthis.scoreField.setValue(this.game.score);\r\n\t\t\tthis.sfx.play(\"coin\");\r\n\t\t}\r\n\r\n\t\tprotected hitDoor(playerRef:prefabs.Player, doorRef:Phaser.Sprite) {\r\n\t\t}\r\n\r\n\t\tprotected hitEnemy(playerRef:prefabs.Player, enemyRef:Phaser.Sprite) {\r\n\t\t\tif(!playerRef.flashEffect.isRunning) {\r\n\t\t\t\tplayerRef.flash();\r\n\t\t\t\tthis.sfx.play(\"hit\");\r\n\t\t\t\tif(this.game.score > 0) {\r\n\t\t\t\t\tthis.game.score --;\r\n\t\t\t\t\tthis.scoreField.setValue(this.game.score);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n}","namespace app.states{\r\n\texport class Boot extends Phaser.State {\r\n\t\tpublic preload() {\r\n\t\t\tthis.load.image('preloader', 'assets/images/loading_bar.png');\r\n\t\t}\r\n\r\n\t\tpublic create() {\r\n\t\t\tconsole.log(\"boot state ready\");\r\n\r\n\t\t\tthis.game.input.maxPointers = 1;\r\n\t\t\tthis.game.state.start('preload');\r\n\t\t}\r\n\t}\r\n}\r\n","namespace Phaser {\r\n\texport interface Game{\r\n\t\tscore:number;\r\n\t}\r\n}\r\nnamespace app.states{\r\n\texport class Game extends Phaser.State {\r\n\r\n\t\tpublic create() {\r\n\t\t\tthis.game.score = 0;\r\n\t\t\tthis.game.state.start(\"Level1\");\r\n\t\t}\r\n\r\n\t}\r\n}","namespace app.states{\r\n\texport class GameOver extends Phaser.State {\r\n\t\ttxtValue:Phaser.Text;\r\n\t\tpublic create() {\r\n\t\t\tthis.add.sprite( 0,0,'gameover_bg');\r\n\r\n\t\t\tvar style:Phaser.PhaserTextStyle = { font: \"30px Arial\", align: \"center\", fill: \"#fff\" };\r\n\t\t\tthis.txtValue = this.add.text(512, 534, this.game.score.toString() + \" points\", style);\r\n\t\t\tthis.txtValue.anchor.setTo(.5, .5);\r\n\t\t\tthis.game.input.onDown.addOnce(this.switchState, this);\r\n\t\t}\r\n\r\n\t\tprotected switchState() {\r\n\t\t\tthis.game.score = 0;\r\n\t\t\tthis.game.state.start(\"Level1\");\r\n\t\t}\r\n\t}\r\n}","namespace app.states.interfaces {\r\n    export interface LevelConfig {\r\n        mapNameTileMap:string;\r\n        numberOfCollectables:number;\r\n        numberOfEnemies:number;\r\n    }\r\n}","namespace app.states{\r\n\texport class Level1 extends base.Level {\r\n\t\tconstructor() {\r\n\t\t\tsuper();\r\n\t\t\t//object level properties\r\n\t\t\tthis.config = {mapNameTileMap:\"level1\", numberOfCollectables: 41, numberOfEnemies: 25};\r\n\t\t}\r\n\r\n\t\tprotected hitDoor(playerRef:prefabs.Player, doorRef:Phaser.Sprite) {\r\n\t\t\tthis.game.state.clearCurrentState();\r\n\t\t\tthis.game.state.start(\"Level2\");\r\n\t\t}\r\n\r\n\t}\r\n}","namespace app.states{\r\n\texport class Level2 extends base.Level {\r\n\t\tconstructor() {\r\n\t\t\tsuper();\r\n\t\t\t//object level properties\r\n\t\t\tthis.config = {mapNameTileMap:\"level2\", numberOfCollectables: 241, numberOfEnemies: 225};\r\n\t\t}\r\n\r\n\t\tprotected hitDoor(playerRef:prefabs.Player, doorRef:Phaser.Sprite) {\r\n\t\t\tthis.game.state.start(\"GameOver\");\r\n\t\t}\r\n\r\n\t}\r\n}","namespace app.states{\r\n\texport class Preload extends Phaser.State {\r\n\r\n\t\tprotected ready:boolean;\r\n\t\tprotected asset:Phaser.Sprite;\r\n\r\n\t\tconstructor() {\r\n\t\t\tsuper();\r\n\t\t\tthis.asset = null;\r\n\t\t\tthis.ready = false;\r\n\t\t}\r\n\r\n\t\tpublic create() {\r\n    \t\tconsole.log(\"preloader state ready\");\r\n\r\n\t\t\t//background for game\r\n\t\t\tthis.add.sprite(0,0, \"loading_bg\");\r\n\r\n\t\t\tthis.asset = this.add.sprite(this.game.width/2,this.game.height/2, 'preloader');\r\n\t\t\tthis.asset.anchor.setTo(0.5, 0.5);\r\n\r\n\t\t\tthis.load.onLoadComplete.addOnce(this.onLoadComplete, this);\r\n\t\t\tthis.load.setPreloadSprite(this.asset);\r\n\r\n\t\t\t//do all your loading here\r\n\t\t\tthis.load.spritesheet('player', 'assets/images/sprites/FoxSprite.png', 210, 210);\r\n\t\t\tthis.load.spritesheet('mouse', 'assets/images/sprites/MouseSprite.png', 165, 160);\r\n\t\t\tthis.load.image('gamebg', 'assets/images/Background.png');\r\n\t\t\tthis.load.tilemap('level1', 'assets/levels/level1.json', null, Phaser.Tilemap.TILED_JSON);\r\n\t\t\tthis.load.tilemap('level2', 'assets/levels/level2.json', null, Phaser.Tilemap.TILED_JSON);\r\n\t\t\tthis.load.image('Tiles', 'assets/images/Tiles.png');\r\n\t\t\tthis.load.image('coin', 'assets/images/coin.png');\r\n\t\t\tthis.load.image('scoreholder', 'assets/images/scoreholder.png');\r\n\t\t\tthis.load.image('sign', 'assets/images/sign.png');\r\n\t\t\tthis.load.image('gameover_bg', 'assets/images/gameover_bg.png');\r\n\t\t\tthis.load.audiosprite('sfx', [ 'assets/sounds/sfx.mp3', 'assets/sounds/sfx.ogg' ], \"assets/sounds/sfx.json\")\r\n\r\n\t\t\t//staaaart load\r\n\t\t\tthis.load.start();\r\n\t\t}\r\n\r\n\t\tpublic update() {\r\n\r\n\t\t\tif(this.ready) {\r\n\t\t\t\tthis.game.state.start('game');\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tprotected onLoadComplete() {\r\n\t\t\tthis.ready = true;\r\n\t\t}\r\n\r\n\t}\r\n}","var game = new app.App();"]}