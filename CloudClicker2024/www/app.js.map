{"version":3,"file":"app.js","sourceRoot":"","sources":["../src/app/app.ts","../src/app/states/Boot.ts","../src/app/states/Game.ts","../src/app/states/Preload.ts","../src/main.ts"],"names":[],"mappings":"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","sourcesContent":["namespace app{\r\n\texport class App{\r\n\t\tpublic game:Phaser.Game;\r\n\r\n\t\tconstructor(){\r\n\t\t\tthis.game = new Phaser.Game(800, 600, Phaser.AUTO, 'game');\r\n\r\n\t\t\tthis.game.state.add('boot', new states.Boot());\r\n\t\t\tthis.game.state.add('preload', new states.Preload());\r\n\t\t\tthis.game.state.add('game', new states.Game());\r\n\r\n\t\t\tthis.game.state.start('boot');\r\n\t\t}\r\n\t}\r\n\r\n}","namespace app.states{\r\n\texport class Boot extends Phaser.State {\r\n\t  preload() {\r\n\t    this.load.image('preloader', 'assets/images/loading_bar.png');\r\n\t  }\r\n\r\n\t  create() {\r\n\t\t\tconsole.log(\"boot state ready\");\r\n\r\n\t    this.game.state.start('preload');\r\n\t  }\r\n\t}\r\n}\r\n","namespace app.states{\r\n\texport class Game extends Phaser.State {\r\n\t\tpublic background: Phaser.Sprite;\r\n\t\tpublic clouds: Phaser.Group;\r\n\t\tpublic txtScore: Phaser.Text;\r\n\t\tpublic score: number;\r\n\r\n\t\tconstructor() {\r\n\t\t\tsuper();\r\n\t\t}\r\n\r\n\t\tpublic create() {\r\n\t\t\tconsole.log(\"game state ready\");\r\n\r\n\t\t\t// this.game.add.sprite(0,0,\"game_bg\");\r\n\r\n\t\t\tthis.background = this.game.add.existing(new Phaser.Sprite(this.game,0,0,\"game_bg\"));\r\n\t\t\t// this.game.add.existing(s)\r\n\t\t\t// this.add.sprite(0,0,\"game_bg\");\r\n\t\t\tthis.clouds = this.add.group();\r\n\r\n\t\t\tthis.score = 0;\r\n\t\t\tvar style = { font: \"24px Arial\", fill: \"#FFFFFF\" };\r\n\t\t\tthis.txtScore = this.add.text(10,10,this.score.toString(), style);\r\n\t\t}\r\n\r\n\t\tpublic update() {\r\n\t\t\tif(Math.random() < .01) {\r\n\t\t\t\tvar cloud = this.clouds.getFirstDead();\r\n\t\t\t\tif(cloud) {\r\n\t\t\t\t\tcloud.x = Math.random() * this.game.width;\r\n\t\t\t\t\tcloud.y = Math.random() * this.game.height;\r\n\t\t\t\t\tcloud.revive();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar cloud = this.clouds.create(Math.random() * this.game.width, Math.random() * this.game.height, \"cloud\");\r\n\t\t\t\t\tcloud.inputEnabled = true;\r\n\t\t\t\t\tcloud.events.onInputDown.add(this.onCloudClick, this);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcloud.alpha = 0;\r\n\t\t\t\tthis.add.tween(cloud).to({ y: \"-50\", alpha: 1 }, 800, Phaser.Easing.Cubic.Out, true);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprotected onCloudClick(cloud:Phaser.Sprite) {\r\n\t\t\tcloud.kill();\r\n\t\t\tthis.score ++;\r\n\t\t\tthis.txtScore.setText(this.score.toString());\r\n\t\t}\r\n\t}\r\n}","namespace app.states{\r\n\texport class Preload extends Phaser.State {\r\n\t\tpublic preloadAsset: Phaser.Sprite = null;\r\n\t\tpublic ready:boolean = false;\r\n\r\n\t\tconstructor() {\r\n\t\t\tsuper();\r\n\t\t}\r\n\r\n\t\tpublic preload() {\r\n\t\t\tthis.load.image('loading_bg', 'assets/images/loading_bg.jpg');\r\n\t\t}\r\n\r\n\t\tpublic create() {\r\n\t\t\tconsole.log(\"preload state ready\");\r\n\r\n\t\t\t//background for game\r\n\t\t\tthis.add.sprite(0,0, \"loading_bg\");\r\n\r\n\t\t\tthis.preloadAsset = this.add.sprite(this.game.width/2,this.game.height/2, 'preloader');\r\n\t\t\tthis.preloadAsset.anchor.setTo(0.5, 0.5);\r\n\r\n\t\t\tthis.load.onLoadComplete.addOnce(this.onLoadComplete, this);\r\n\t\t\tthis.load.setPreloadSprite(this.preloadAsset);\r\n\r\n\t\t\t//do all your loading here\r\n\t\t\tthis.load.image('cloud', 'assets/images/cloud.png');\r\n\t\t\tthis.load.image('game_bg', 'assets/images/game_bg.jpg');\r\n\r\n\t\t\t//staaaart load\r\n\t\t\tthis.load.start();\r\n\t\t}\r\n\r\n\t\tpublic update() {\r\n\r\n\t\t\tif(this.ready) {\r\n\t\t\t\tthis.game.state.start('game');\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tprotected onLoadComplete() {\r\n\t\t\tthis.ready = true;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","var game = new app.App();"]}