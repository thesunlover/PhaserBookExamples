{"version":3,"file":"app.js","sourceRoot":"","sources":["../src/app/app.ts","../src/app/prefabs/Enemy.ts","../src/app/prefabs/HealthBar.ts","../src/app/prefabs/NumberBox.ts","../src/app/prefabs/Player.ts","../src/app/states/Boot.ts","../src/app/states/Game.ts","../src/app/states/GameOver.ts","../src/app/states/Preload.ts","../src/app/states/StartScreen.ts","../src/main.ts"],"names":[],"mappings":"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","sourcesContent":["namespace app{\r\n\texport class App{\r\n\t\tpublic game:Phaser.Game;\r\n\r\n\t\tconstructor(){\r\n\t\t\tthis.game = new Phaser.Game(1024, 768, Phaser.AUTO, 'game');\r\n\r\n\t\t\tthis.game.state.add('boot', new states.Boot());\r\n\t\t\tthis.game.state.add('preload', new states.Preload());\r\n\t\t\tthis.game.state.add('game', new states.Game());\r\n\t\t\tthis.game.state.add('gameOver', new states.GameOver());\r\n\t\t\tthis.game.state.add('startScreen', new states.StartScreen());\r\n\r\n\t\t\tthis.game.state.start('boot');\r\n\t\t}\r\n\t}\r\n\r\n}","namespace app.prefabs{\r\n\r\n\texport class Enemy extends Phaser.Sprite {\r\n\t\tprotected bulletLayer:Phaser.Group;\r\n\t\tprotected bounceTick:number;\r\n\t\tprotected willFire:boolean; \r\n\t\tprotected fireTimer:Phaser.Timer; \r\n\r\n\t\tconstructor(game:Phaser.Game, x:number, y:number, bulletLayer:Phaser.Group, frame?:string|number) {  \r\n\t\t\tsuper(game, x, y, 'enemy', frame);\r\n\r\n\t\t\t// initialize your prefab here\r\n\t\t\tthis.game.physics.enable(this, Phaser.Physics.ARCADE);\r\n\r\n\t\t\tthis.body.velocity.x = -175;\r\n\t\t\tthis.bounceTick = Math.random() * 2;\r\n\r\n\t\t\tthis.bulletLayer = bulletLayer;\r\n\r\n\t\t\tthis.outOfBoundsKill = true;\r\n\r\n\t\t\tthis.willFire = Phaser.Utils.chanceRoll(50);\r\n\t\t\t\r\n\t\t\tconsole.log(this.willFire);\r\n\r\n\t\t\tif(this.willFire) {\r\n\t\t\t\tthis.fireTimer = this.game.time.create(false);\r\n\t\t\t\tthis.fireTimer.add(3500, this.fireShot, this);\r\n\t\t\t\tthis.fireTimer.start();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfireShot() {\r\n\t\t\tvar bullet = this.bulletLayer.create(this.x, this.y, \"enemyBullet\");\r\n\t\t\tthis.game.physics.enable(bullet, Phaser.Physics.ARCADE);\r\n\t\t\tbullet.outOfBoundsKill = true;\r\n\t\t\tbullet.checkWorldBounds = true;\r\n\t\t\tbullet.body.velocity.x = -250;\r\n\t\t}\r\n\r\n\t\tupdate() {\r\n\t\t\tthis.bounceTick += .02;\r\n\t\t\tthis.y += Math.sin(this.bounceTick) * 1;\r\n\t\t}\r\n\t}\r\n}","namespace app.prefabs{\r\n\texport class HealthBar extends Phaser.Group {\r\n\t\tprotected bar:Phaser.Sprite;\r\n\t\tprotected holder:Phaser.Sprite;\r\n\t\tprotected tween:Phaser.Tween;\r\n\r\n\t\tconstructor(game:Phaser.Game, xpos:number, ypos:number, barGraphic:string, holderGraphic:string) {  \r\n\r\n\t\t\tsuper(game);\r\n\r\n\t\t\tthis.x = xpos;\r\n\t\t\tthis.y = ypos;\r\n\r\n\t\t\tthis.bar = this.create(0,0, barGraphic);\r\n\t\t\tthis.holder = this.create(0,0, holderGraphic);\r\n\t\t}\r\n\r\n\t\tsetValue(val:number) {\r\n\t\t\tif(this.tween) this.tween.stop();\r\n\t\t\tthis.tween = this.game.add.tween(this.bar.scale);\r\n\t\t\tthis.tween.to({ x: val }, 350);\r\n\t\t\tthis.tween.start();\r\n\t\t}\r\n\r\n\t}\r\n}","namespace app.prefabs{\r\n\r\n\texport class NumberBox extends Phaser.Group { \r\n\t\tprotected txtValue:Phaser.Text;\r\n\t\tconstructor(game:Phaser.Game, bgasset:string, val:number, parent?:Phaser.Group) {  \r\n\t\t\tsuper(game, parent);\r\n\r\n\t\t\t// initialize your prefab here\r\n\t\t\tthis.create(0,0, bgasset);\r\n\r\n\t\t\tvar style = { font: \"30px Arial\", align: \"center\", fill: \"#fff\" };\r\n\t\t\tthis.txtValue = new Phaser.Text(this.game, 55, 55, val.toString(), style);\r\n\t\t\tthis.txtValue.anchor.setTo(.5, .5);\r\n\t\t\tthis.add(this.txtValue);\r\n\r\n\t\t}\r\n\r\n\t\tsetValue(val:number) {\r\n\t\t\tthis.txtValue.text = val.toString();\r\n\t\t}\r\n\t}\r\n}","namespace app.prefabs{\r\n\r\n\texport class Player extends Phaser.Sprite { \r\n\r\n        protected speed:number;\r\n        protected bulletGate:number;\r\n        protected shotInterval:number;\r\n        protected bullets:Phaser.Group;\r\n        protected cursors:Phaser.CursorKeys;\r\n        protected fireButton:Phaser.Key;\r\n        // defined in protected Phaser.Sprite health:{current:number, max:number};\r\n        protected firePosition = new Phaser.Point(160, 100);\r\n        protected fireAnimation:Phaser.Animation;\r\n\r\n\t\tconstructor(game:Phaser.Game, x:number, y:number, bullets:Phaser.Group, scale:number) {  \r\n\r\n            super(game, x, y, 'player', 0);\r\n\r\n            this.game.physics.enable(this, Phaser.Physics.ARCADE);\r\n            this.body.drag.x = 0;\r\n            this.body.drag.y = 35;\r\n            this.body.collideWorldBounds = true;\r\n\t\t\tthis.scale.set(scale);\r\n\r\n            // initialize your prefab herea\r\n            this.speed = 100;\r\n            this.bulletGate = 0;\r\n            this.shotInterval = 500;\r\n            this.bullets = bullets;\r\n            this.cursors = this.game.input.keyboard.createCursorKeys();\r\n            this.fireButton = this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR);\r\n\r\n\r\n            this.health = this.maxHealth = 10;\r\n\r\n            this.animations.add(\"fly\", [0,0,1,1,2,2,3,4,5,6,7,8,9,10,10]);\r\n            this.fireAnimation = this.animations.add(\"fire\", [11,12,13]);\r\n            this.fireAnimation.onComplete.add(this.playFly, this);\r\n            this.animations.play(\"fly\", 14, true);\r\n\t\t}\r\n\r\n\t\tpublic update() {\r\n\r\n\r\n\t\t\t// write your prefab's specific update code here\r\n\t\t\tif(this.cursors.left.isDown) {\r\n\t\t\t\tthis.body.velocity.x = -this.speed;\r\n\t\t\t}\r\n\r\n\t\t\tif(this.cursors.right.isDown) {\r\n\t\t\t\tthis.body.velocity.x = this.speed;\r\n\t\t\t}\r\n\r\n\t\t\tif(this.cursors.up.isDown) {\r\n\t\t\t\tthis.body.velocity.y = -this.speed;\r\n\t\t\t}\r\n\r\n\t\t\tif(this.cursors.down.isDown) {\r\n\t\t\t\tthis.body.velocity.y = this.speed;\r\n\t\t\t}\r\n\r\n\t\t\tif(this.fireButton.isDown) {\r\n\t\t\t\tthis.fire();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprotected fire() {\r\n\t\t\tif(this.game.time.now > this.bulletGate) {\r\n\r\n\t\t\t\tvar firePoint:Phaser.Point = new Phaser.Point(this.x + this.firePosition.x*this.scale.x, this.y + this.firePosition.y*this.scale.y );\r\n\t\t\t\tvar bullet:Phaser.Sprite = this.bullets.getFirstDead();\r\n\t\t\t\tif(bullet) {\r\n\t\t\t\t\tbullet.x = firePoint.x;\r\n\t\t\t\t\tbullet.y = firePoint.y;\r\n\t\t\t\t\tbullet.revive();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tbullet = this.bullets.create(firePoint.x, firePoint.y, \"bullet\");\r\n\t\t\t\t\tbullet.scale.set(this.scale.x);\r\n\r\n\t\t\t\t\tthis.game.physics.enable(bullet, Phaser.Physics.ARCADE);\r\n\t\t\t\t\tbullet.outOfBoundsKill = true;\r\n\t\t\t\t\tbullet.checkWorldBounds = true;\r\n\t\t\t\t\tbullet.body.velocity.x = 250;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.animations.play(\"fire\");\r\n\r\n\t\t\t\tthis.bulletGate = this.game.time.now + this.shotInterval;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic damage(amount:number): Phaser.Sprite {\r\n\t\t\tthis.health -= amount;\r\n            return this;\r\n\t\t}\r\n\r\n\t\tprotected playFly() {\r\n\t\t\tthis.animations.play(\"fly\", 14, true);\r\n\t\t}\r\n\t}\r\n}\r\n","namespace app.states{\r\n\texport class Boot extends Phaser.State {\r\n\t  preload() {\r\n\t    this.load.image('preloader', 'assets/images/loading_bar.png');\r\n\t\t\tthis.load.image('loading_bg', 'assets/images/loading_bg.jpg');\r\n\t  }\r\n\r\n\t  create() {\r\n\t\tconsole.log(\"boot state ready\");\r\n\r\n\t\tthis.game.input.maxPointers = 1;\r\n\t  this.game.state.start('preload');\r\n\t  }\r\n\t}\r\n}\r\n","namespace app.states{\r\n\texport class Game extends Phaser.State {\r\n\t\tprotected bg: Phaser.TileSprite;\r\n\t\tprotected scoreField: prefabs.NumberBox;\r\n\t\tprotected score: number;\r\n\r\n        protected player:prefabs.Player;\r\n\t\tprotected healthBar: prefabs.HealthBar;\r\n\t\tprotected bullets: Phaser.Group;\r\n\r\n\t\tprotected enemies: Phaser.Group;\r\n\t\tprotected enemyBullets: Phaser.Group;\r\n\r\n\t\tprotected UILayer: Phaser.Group;\r\n\r\n        protected explosions: Phaser.Particles.Arcade.Emitter;\r\n\r\n        protected waveTimer:Phaser.Timer;\r\n\r\n        protected spawnChance:number;\r\n\r\n\t\tconstructor() {\r\n\t\t\tsuper();\r\n\t\t}\r\n\r\n\t\tpublic create() {\r\n\t\t\tconsole.log(\"game state ready\");\r\n\r\n\t\t\tthis.spawnChance = .02;\r\n\t\t\tthis.score = 0;\r\n\r\n\t\t\tthis.game.physics.startSystem(Phaser.Physics.ARCADE);\r\n\r\n            this.bg = this.game.add.existing(new Phaser.TileSprite(this.game, 0, 0, 1024, 768, 'bg'));\r\n\r\n\t\t\tthis.bullets = this.add.group();\r\n\t\t\tthis.enemyBullets = this.add.group();\r\n\r\n\t\t\t//add player\r\n\t\t\tthis.player = new prefabs.Player(this.game, 0, 0, this.bullets, 0.25);\r\n\t\t\tthis.game.add.existing(this.player);\r\n\r\n\t\t\t//add a few enemeis..\r\n\t\t\tthis.enemies = this.add.group();\r\n\t\t\tfor(var i = 0; i < 5; i++) {\r\n\t\t\t\tvar enemy = new prefabs.Enemy(this.game, this.game.width + 100 + (Math.random() * 400), Math.random() * this.game.height, this.enemyBullets);\r\n\t\t\t\tthis.enemies.add(enemy);\r\n\t\t\t}\r\n\r\n\t\t\t//add the explosions\r\n\t\t\tthis.explosions = this.game.add.emitter(0,0, 200);\r\n\t\t\tthis.explosions.makeParticles(\"hexagon\");\r\n\t\t\tthis.explosions.setAlpha(1, .2, 2000);\r\n\r\n\t\t\t//add UI\r\n\t\t\tthis.setupUI();\r\n\r\n\t\t\t//wave timer\r\n\t\t\tthis.waveTimer = this.game.time.create(false);\r\n\t\t\tthis.waveTimer.loop(20000, this.incrementWave, this);\r\n\t\t\tthis.waveTimer.start();\r\n\t\t}\r\n\r\n\t\tprotected setupUI() {\r\n\t\t\tthis.UILayer = this.add.group();\r\n\r\n\t\t\tthis.scoreField = new prefabs.NumberBox(this.game, \"circle\", 0);\r\n\t\t\tthis.UILayer.add(this.scoreField);\r\n\r\n\t\t\tthis.healthBar = new prefabs.HealthBar(this.game, 120, 40, \"health_bar\", \"health_holder\");\r\n\t\t\tthis.UILayer.add(this.healthBar);\r\n\t\t}\r\n\r\n\t\tpublic update() {\r\n\t\t\tthis.bg.tilePosition.x -= .5;\r\n\r\n\t\t\tif(Math.random() < this.spawnChance) {\r\n\t\t\t\tvar randomX:number = this.game.width + 100 + (Math.random() * 400);\r\n\t\t\t\tvar randomY:number = Math.random() * this.game.height;\r\n\t\t\t\tvar enemy:prefabs.Enemy = new prefabs.Enemy(this.game, randomX, randomY, this.enemyBullets);\r\n\t\t\t\tthis.enemies.add(enemy);\r\n\t\t\t}\r\n\r\n\t\t\tthis.physics.arcade.overlap(this.enemies, this.bullets, this.damageEnemy, null, this);\r\n\t\t\tthis.physics.arcade.overlap(this.player, this.enemies, this.damagePlayer, null, this);\r\n\t\t\tthis.physics.arcade.overlap(this.player, this.enemyBullets, this.damagePlayer, null, this);\r\n\t\t}\r\n\r\n\t\tprotected incrementWave() {\r\n\t\t\tthis.spawnChance *= 1.2;\r\n\t\t}\r\n\r\n\t\tprotected damagePlayer(playerRef:prefabs.Player, enemyRef:prefabs.Enemy) {\r\n\t\t\tthis.player.damage(1);\r\n\t\t\tthis.healthBar.setValue(this.player.health / this.player.maxHealth);\r\n\t\t\tenemyRef.kill();\r\n\r\n\t\t\tif(this.player.health <= 0) {\r\n\t\t\t\tthis.game.state.start('gameOver');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprotected damageEnemy(enemy:prefabs.Enemy, bullet:Phaser.Sprite) {\r\n\r\n\t\t\tthis.explosions.x = enemy.x;\r\n\t\t\tthis.explosions.y = enemy.y;\r\n\r\n\t\t\tthis.explosions.explode(2000, 4);\r\n\r\n\t\t\tenemy.kill();\r\n\t\t\tbullet.kill();\r\n\r\n\t\t\tthis.score++;\r\n\t\t\tthis.scoreField.setValue(this.score);\r\n\t\t}\r\n    }\r\n}\r\n","namespace app.states {\r\n\texport class GameOver extends Phaser.State {\r\n\r\n\t\tprotected txtValue:Phaser.Text;\r\n\r\n\t\tconstructor() {\r\n\t\t\tsuper();\r\n\t\t}\r\n\r\n        public create() {\r\n    \t\tconsole.log(\"GameOver state ready\");\r\n\t\t\tthis.add.sprite( 0,0,'gameover_bg');\r\n\r\n\t\t\tvar style:Phaser.PhaserTextStyle = { font: \"30px Arial\", align: \"center\", fill: \"#fff\" };\r\n\t\t\tthis.txtValue = this.add.text(512, 534, this.game.score.toString() + \" points\", style);\r\n\t\t\tthis.txtValue.anchor.setTo(.5, .5);\r\n        }\r\n\r\n        public update() {\r\n\r\n            if(this.game.input.keyboard.isDown(Phaser.Keyboard.SPACEBAR)) {\r\n                this.game.state.start('game');\r\n            }\r\n        }\r\n\r\n    }\r\n}","namespace app.states{\r\n\texport class Preload extends Phaser.State {\r\n\r\n\t\tprotected ready:boolean;\r\n\t\tprotected asset:Phaser.Sprite;\r\n\r\n\t\tconstructor() {\r\n\t\t\tsuper();\r\n\t\t\tthis.asset = null;\r\n\t\t\tthis.ready = false;\r\n\t\t}\r\n\r\n\t\tpublic create() {\r\n    \t\tconsole.log(\"preloader state ready\");\r\n\r\n\t\t\t//background for game\r\n\t\t\tthis.add.sprite(0,0, \"loading_bg\");\r\n\r\n\t\t\tthis.asset = this.add.sprite(this.game.width/2,this.game.height/2, 'preloader');\r\n\t\t\tthis.asset.anchor.setTo(0.5, 0.5);\r\n\r\n\t\t\tthis.load.onLoadComplete.addOnce(this.onLoadComplete, this);\r\n\t\t\tthis.load.setPreloadSprite(this.asset);\r\n\r\n\t\t\t//do all your loading here\r\n\t\t\t//this.load.image('player', 'assets/images/player.png'); //width and height of sprite\r\n\t\t\tthis.load.image('enemy', 'assets/images/enemy.png');\r\n\t\t\tthis.load.image('explosion', 'assets/images/explosion.png');\r\n\r\n\t\t\tthis.load.spritesheet('player', 'assets/images/gunbot.png', 214, 269); //width and height of sprite\r\n\t\t\tthis.load.image('hexagon', 'assets/images/hexagon_particle.png');\r\n\t\t\tthis.load.image('bullet', 'assets/images/bullet.png');\r\n\t\t\tthis.load.image('enemyBullet', 'assets/images/enemyBullet.png');\r\n\t\t\tthis.load.image('bg', 'assets/images/bg.jpg');\r\n\r\n\t\t\tthis.load.image('health_bar', 'assets/images/health_bar.png');\r\n\t\t\tthis.load.image('health_holder', 'assets/images/health_holder.png');\r\n\t\t\tthis.load.image('circle', 'assets/images/circle.png');\r\n\r\n\t\t\t//staaaart load\r\n\t\t\tthis.load.start();\r\n\t\t}\r\n\r\n\t\tpublic update() {\r\n\r\n\t\t\tif(this.ready) {\r\n\t\t\t\tthis.game.state.start('game');\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tprotected onLoadComplete() {\r\n\t\t\tthis.ready = true;\r\n\t\t}\r\n\r\n\t}\r\n}","namespace app.states{\r\n\r\n\r\n    export class StartScreen extends Phaser.State {\r\n\r\n        public create() {\r\n    \t\tconsole.log(\"StartScreen state ready\");\r\n\r\n        }\r\n\r\n        public update() {\r\n            if(this.game.input.keyboard.isDown(Phaser.Keyboard.SPACEBAR)) {\r\n                this.game.state.start('game');\r\n            }\r\n        }\r\n\r\n    }\r\n}","var game = new app.App();"]}